local prefix = ":"
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function GetPlayer(String)
    local plr
    local strl = String:lower()
    for i, v in pairs(Players:GetPlayers()) do
        if v.Name:lower():sub(1, #String) == String:lower() or v.DisplayName:lower():sub(1, #String) == String:lower() then
            plr = v
        end 
    end
    if String == "me" then
        plr = LocalPlayer
    end
    if String == "" or String == " " then
        plr = nil
    end
    return plr
end

LocalPlayer.Chatted:Connect(function(msg)
    msg = msg:lower()
    if string.sub(msg,1,3) == "/e " then
        msg = string.sub(msg,4)
    end
    if string.sub(msg,1,1) == prefix then
        local cmd
        local space = string.find(msg," ")
        if space then
            cmd = string.sub(msg,2,space-1)
        else
            cmd = string.sub(msg,2)
        end

        if cmd == "print" then
            local var = string.sub(msg,space+1)
            print(var)
        end

getgenv().aura = false
        if cmd == "aura" then
aura = true
while aura == true and wait() do
for i, v in pairs(game.Players:GetPlayers()) do
if v~= game.Players.LocalPlayer then
if (v.Character.Head.Position - game.Players.LocalPlayer.Character.Head.Position).magnitude < 60 then
local args = {
    [1] = v
}

game:GetService("ReplicatedStorage"):WaitForChild("meleeEvent"):FireServer(unpack(args))
end    
end
  end
   end
end


        if cmd == "unaura" then
aura = false
        end

        if cmd == "reset" then
LocalPlayer.Character:BreakJoints()
        end
        if cmd == "tp" then
            local var = string.sub(msg,space+1)
            local target = GetPlayer(var)
            if target then
                LocalPlayer.Character:MoveTo(target.Character.Head.Position)
            end

        end
    end
end)
